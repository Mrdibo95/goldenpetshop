<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carrinho - Golden PetShop</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body { font-family: Arial, sans-serif; }
    header { background: black; color: white; padding: 15px 30px; }
    nav a { color: white; margin-left: 20px; text-decoration: none; font-weight: bold; }
    footer { background: black; color: white; text-align: center; padding: 15px; margin-top: 40px; }
  </style>
</head>
<body>
  <!-- CabeÃ§alho -->
  <header class="d-flex justify-content-between align-items-center">
    <h1>Golden PetShop</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="carrinho.html">Carrinho ðŸ›’</a>
    </nav>
  </header>

  <div class="container my-5">
    <h2>Seu Carrinho</h2>
    <ul id="cart-list" class="list-group mb-3"></ul>
    <h4>Total: R$ <span id="cart-total">0</span></h4>

    <div class="mt-4">
      <label for="cep" class="form-label">Calcular frete (CEP):</label>
      <input type="text" id="cep" class="form-control" placeholder="00000-000">
      <button class="btn btn-dark mt-2" onclick="calcularFrete()">Calcular Frete</button>
      <p id="frete-info"></p>
    </div>

    <button class="btn btn-success mt-4" onclick="finalizarCompra()">Finalizar Compra (Mercado Pago)</button>
  </div>

  <footer>
    <p>&copy; 2025 Golden PetShop. Todos os direitos reservados.</p>
  </footer>

  <script>
    // Mostrar carrinho
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    let cartList = document.getElementById("cart-list");
    let total = 0;

    cart.forEach(item => {
      let li = document.createElement("li");
      li.className = "list-group-item d-flex justify-content-between";
      li.textContent = item.product + " - R$ " + item.price;
      cartList.appendChild(li);
      total += item.price;
    });

    document.getElementById("cart-total").textContent = total;

    // Calcular Frete (simulado)
    function calcularFrete() {
      let cep = document.getElementById("cep").value;
      if (cep === "") {
        alert("Digite um CEP vÃ¡lido!");
        return;
      }
      // SimulaÃ§Ã£o: frete fixo
      let frete = 15;
      document.getElementById("frete-info").textContent = "Frete para " + cep + ": R$ " + frete;
      total += frete;
      document.getElementById("cart-total").textContent = total;
    }

    // Finalizar Compra
    function finalizarCompra() {
      alert("Redirecionando para Mercado Pago...");
      // Token fictÃ­cio
      let mpToken = "TEST-1234567890abcdef";
      // Aqui vocÃª integraria com a API oficial do Mercado Pago
      window.location.href = "https://www.mercadopago.com.br/checkout/v1/redirect?pref_id=123456789";
    }
  </script>
</body>
</html>
